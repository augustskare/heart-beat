<template>
  <style>
    :host {
      display: inline-flex;
      align-items: center;
    }

    span {
      font-size: 3em;
      font-weight: 300;
    }

    span:after {
      content: "BPM";
      font-size: .28em;
      font-weight: 600;
      margin-left: .2em;
    }

    svg {
      color: #bd3e3e; 
      fill: none;
      width: auto;
      height: 2em;
      margin-right: .5em;
      transform-origin: center;
    }

    :host([loading]) svg {
      animation: loading 10s infinite forwards linear;
      stroke-dasharray: 70px;
      stroke-dashoffset: 500px;
    }

    :host([connected]) svg {
      fill: currentColor;
      animation: loading 10s infinite forwards linear;
    }

    @keyframes loading {
      to {
        stroke-dashoffset: 0;
      }
    }

    @keyframes heartbeat {
      100% {
        transform: scale(1.1);
      }
    }
  </style>

  <svg width="22" height="20" viewBox="0 0 22 20" xmlns="http://www.w3.org/2000/svg" stroke="currentColor" fill="currentColor" fill-rule="nonzero">
    <path d="M15.5 1c-1.74 0-3.41.81-4.5 2.09C9.91 1.81 8.24 1 6.5 1 3.42 1 1 3.42 1 6.5c0 3.78 3.4 6.86 8.55 11.54L11 19.35l1.45-1.32C17.6 13.36 21 10.28 21 6.5 21 3.42 18.58 1 15.5 1z"/>
  </svg>
  <span>0</span>
</template>

<script src="heart-rate-monitor.js"></script>
<script src="heart-rate.js"></script>